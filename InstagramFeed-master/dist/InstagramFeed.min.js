var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.owns = function(a, f) { return Object.prototype.hasOwnProperty.call(a, f) };
$jscomp.assign = "function" == typeof Object.assign ? Object.assign : function(a, f) { for (var c = 1; c < arguments.length; c++) { var d = arguments[c]; if (d)
            for (var b in d) $jscomp.owns(d, b) && (a[b] = d[b]) } return a };
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(a, f, c) { a != Array.prototype && a != Object.prototype && (a[f] = c.value) };
$jscomp.getGlobal = function(a) { return "undefined" != typeof window && window === a ? a : "undefined" != typeof global && null != global ? global : a };
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.polyfill = function(a, f, c, d) { if (f) { c = $jscomp.global;
        a = a.split("."); for (d = 0; d < a.length - 1; d++) { var b = a[d];
            b in c || (c[b] = {});
            c = c[b] }
        a = a[a.length - 1];
        d = c[a];
        f = f(d);
        f != d && null != f && $jscomp.defineProperty(c, a, { configurable: !0, writable: !0, value: f }) } };
$jscomp.polyfill("Object.assign", function(a) { return a || $jscomp.assign }, "es6", "es3");
var InstagramFeed = function() {
    var a = { host: "https://www.instagram.com/", username: "", tag: "", container: "", display_profile: !0, display_biography: !0, display_gallery: !0, display_igtv: !1, get_data: !1, callback: null, styling: !0, items: 8, items_per_row: 4, margin: .5, image_size: 640 },
        f = { 150: 0, 240: 1, 320: 2, 480: 3, 640: 4 };
    return function(c) {
        this.options = Object.assign({}, a);
        this.options = Object.assign(this.options, c);
        this.is_tag = "" == this.options.username;
        this.valid = !0;
        "" == this.options.username && "" == this.options.tag ? (console.error("InstagramFeed: Error, no username or tag defined."),
            this.valid = !1) : this.options.get_data || "" != this.options.container ? this.options.get_data && "function" != typeof this.options.callback && (console.error("InstagramFeed: Error, invalid or undefined callback for get_data"), this.valid = !1) : (console.error("InstagramFeed: Error, no container found."), this.valid = !1);
        this.get = function(d) {
            var b = this.is_tag ? this.options.host + "explore/tags/" + this.options.tag : this.options.host + this.options.username,
                a = new XMLHttpRequest,
                c = this;
            a.onload = function(b) {
                4 === a.readyState && (200 ===
                    a.status ? (b = a.responseText.split("window._sharedData = ")[1].split("\x3c/script>")[0], b = JSON.parse(b.substr(0, b.length - 1)), b = b.entry_data.ProfilePage || b.entry_data.TagPage || null, null === b ? console.error("InstagramFeed: Request error. No data retrieved: " + a.statusText) : (b = b[0].graphql.user || b[0].graphql.hashtag, d(b, c))) : console.error("InstagramFeed: Request error. Response: " + a.statusText))
            };
            a.open("GET", b, !0);
            a.send()
        };
        this.display = function(a) {
            var b, c, d, g, l;
            this.options.styling ? (b = " style='text-align:center;'",
                c = " style='border-radius:10em;width:15%;max-width:125px;min-width:50px;'", d = " style='font-size:1.2em;'", g = " style='font-size:1em;'", l = " style='margin:" + this.options.margin + "% " + this.options.margin + "%;width:" + (100 - 2 * this.options.margin * this.options.items_per_row) / this.options.items_per_row + "%;float:left;'") : (b = "", c = "", d = "", g = "", l = "");
            var e = "";
            this.options.display_profile && (e = e + ("<div class='instagram_profile'" + b + ">") + ("<img class='instagram_profile_image' src='" + a.profile_pic_url + "' alt='" + a.name +
                    " profile pic'" + c + " />"), e = this.is_tag ? e + ("<p class='instagram_tag'" + d + "><a href='https://www.instagram.com/explore/tags/" + this.options.tag + "' rel='noopener' target='_blank'>#" + this.options.tag + "</a></p>") : e + ("<p class='instagram_username'" + d + ">@" + a.full_name + " (<a href='https://www.instagram.com/" + this.options.username + "' rel='noopener' target='_blank'>@" + this.options.username + "</a>)</p>"), !this.is_tag && this.options.display_biography && (e += "<p class='instagram_biography'" + g + ">" + a.biography + "</p>"),
                e += "</div>");
            if (this.options.display_gallery)
                if (d = "undefined" !== typeof f[this.options.image_size] ? f[this.options.image_size] : f[640], "undefined" !== typeof a.is_private && !0 === a.is_private) e += "<p class='instagram_private'><strong>This profile is private</strong></p>";
                else {
                    g = (a.edge_owner_to_timeline_media || a.edge_hashtag_to_media).edges;
                    c = g.length > this.options.items ? this.options.items : g.length;
                    e += "<div class='instagram_gallery'>";
                    for (b = 0; b < c; b++) {
                        var p = "https://www.instagram.com/p/" + g[b].node.shortcode;
                        switch (g[b].node.__typename) {
                            case "GraphSidecar":
                                var m = "sidecar"; var n = g[b].node.thumbnail_resources[d].src; break;
                            case "GraphVideo":
                                m = "video";
                                n = g[b].node.thumbnail_src; break;
                            default:
                                m = "image", n = g[b].node.thumbnail_resources[d].src }
                        e += "<a href='" + p + "' class='instagram-" + m + "' rel='noopener' target='_blank'>";
                        e += "<img src='" + n + "' alt='" + a.name + " instagram image " + b + "'" + l + " />";
                        e += "</a>"
                    }
                    e += "</div>"
                }
            if (this.options.display_igtv && "undefined" !== typeof a.edge_felix_video_timeline && (a = a.edge_felix_video_timeline.edges,
                    c = a.length > this.options.items ? this.options.items : a.length, 0 < a.length)) { e += "<div class='instagram_igtv'>"; for (b = 0; b < c; b++) e += "<a href='https://www.instagram.com/p/" + a[b].node.shortcode + "' rel='noopener' target='_blank'>", e += "<img src='" + a[b].node.thumbnail_src + "' alt='" + this.options.username + " instagram image " + b + "'" + l + " />", e += "</a>";
                e += "</div>" }
            this.options.container.innerHTML = e
        };
        this.run = function() { this.get(function(a, b) { b.options.get_data ? b.options.callback(a) : b.display(a) }) };
        this.valid && this.run()
    }
}();
Object.keys || (Object.keys = function() { var a = Object.prototype.hasOwnProperty,
        f = !{ toString: null }.propertyIsEnumerable("toString"),
        c = "toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
        d = c.length; return function(b) { if ("object" !== typeof b && ("function" !== typeof b || null === b)) throw new TypeError("Object.keys called on non-object"); var k = [],
            h; for (h in b) a.call(b, h) && k.push(h); if (f)
            for (h = 0; h < d; h++) a.call(b, c[h]) && k.push(c[h]); return k } }());
"function" != typeof Object.assign && Object.defineProperty(Object, "assign", { value: function(a, f) { if (null == a) throw new TypeError("Cannot convert undefined or null to object"); for (var c = Object(a), d = 1; d < arguments.length; d++) { var b = arguments[d]; if (null != b)
                for (var k in b) Object.prototype.hasOwnProperty.call(b, k) && (c[k] = b[k]) } return c }, writable: !0, configurable: !0 });